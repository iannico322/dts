import{r,$ as A,_ as P,i as C,f as b,h as E}from"./index-98f0bb41.js";function w(e,n,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return n==null?void 0:n(c)}}function D(e,n=[]){let o=[];function t(u,f){const a=r.createContext(f),i=o.length;o=[...o,f];function s(d){const{scope:l,children:m,...p}=d,x=(l==null?void 0:l[e][i])||a,S=r.useMemo(()=>p,Object.values(p));return r.createElement(x.Provider,{value:S},m)}function $(d,l){const m=(l==null?void 0:l[e][i])||a,p=r.useContext(m);if(p)return p;if(f!==void 0)return f;throw new Error(`\`${d}\` must be used within \`${u}\``)}return s.displayName=u+"Provider",[s,$]}const c=()=>{const u=o.map(f=>r.createContext(f));return function(a){const i=(a==null?void 0:a[e])||u;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return c.scopeName=e,[t,g(c,...n)]}function g(...e){const n=e[0];if(e.length===1)return n;const o=()=>{const t=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const f=t.reduce((a,{useScope:i,scopeName:s})=>{const d=i(u)[`__scope${s}`];return{...a,...d}},{});return r.useMemo(()=>({[`__scope${n.scopeName}`]:f}),[f])}};return o.scopeName=n.scopeName,o}const N=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},M=A["useId".toString()]||(()=>{});let O=0;function L(e){const[n,o]=r.useState(M());return N(()=>{e||o(t=>t??String(O++))},[e]),e||(n?`radix-${n}`:"")}function h(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...o)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...o)},[])}function k({prop:e,defaultProp:n,onChange:o=()=>{}}){const[t,c]=T({defaultProp:n,onChange:o}),u=e!==void 0,f=u?e:t,a=h(o),i=r.useCallback(s=>{if(u){const d=typeof s=="function"?s(e):s;d!==e&&a(d)}else c(s)},[u,e,c,a]);return[f,i]}function T({defaultProp:e,onChange:n}){const o=r.useState(e),[t]=o,c=r.useRef(t),u=h(n);return r.useEffect(()=>{c.current!==t&&(u(t),c.current=t)},[t,c,u]),o}const R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],B=R.reduce((e,n)=>{const o=r.forwardRef((t,c)=>{const{asChild:u,...f}=t,a=u?C:n;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(a,P({},f,{ref:c}))});return o.displayName=`Primitive.${n}`,{...e,[n]:o}},{});function j(e,n){e&&b.flushSync(()=>e.dispatchEvent(n))}function _(e,n){return r.useReducer((o,t)=>{const c=n[o][t];return c??o},e)}const y=e=>{const{present:n,children:o}=e,t=U(n),c=typeof o=="function"?o({present:t.isPresent}):r.Children.only(o),u=E(t.ref,c.ref);return typeof o=="function"||t.isPresent?r.cloneElement(c,{ref:u}):null};y.displayName="Presence";function U(e){const[n,o]=r.useState(),t=r.useRef({}),c=r.useRef(e),u=r.useRef("none"),f=e?"mounted":"unmounted",[a,i]=_(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const s=v(t.current);u.current=a==="mounted"?s:"none"},[a]),N(()=>{const s=t.current,$=c.current;if($!==e){const l=u.current,m=v(s);e?i("MOUNT"):m==="none"||(s==null?void 0:s.display)==="none"?i("UNMOUNT"):i($&&l!==m?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,i]),N(()=>{if(n){const s=d=>{const m=v(t.current).includes(d.animationName);d.target===n&&m&&b.flushSync(()=>i("ANIMATION_END"))},$=d=>{d.target===n&&(u.current=v(t.current))};return n.addEventListener("animationstart",$),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{n.removeEventListener("animationstart",$),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}else i("ANIMATION_END")},[n,i]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:r.useCallback(s=>{s&&(t.current=getComputedStyle(s)),o(s)},[])}}function v(e){return(e==null?void 0:e.animationName)||"none"}export{h as $,B as a,w as b,j as c,D as d,y as e,N as f,k as g,L as h};
